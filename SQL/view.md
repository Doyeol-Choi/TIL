# 뷰
* 일반적으로 데이터를 저장하기 위해 테이블을 사용한다.
* 테이블에 저장된 데이터는 실제 디스크 공간에 할당되어서 저
장이 된다.
* 그러나 테이블과 다르게 뷰는 테이블과 비슷한 형태를 가지면
서도 디스크에는 실제 저장하지 않는 ‘가상의 테이블’이다. 
  
* 뷰를 사용하는 이유
  - 사용자 권한 제어 => 보안에 도움
  - 쿼리를 보다 단순하게 사용가능

* 뷰를 정의 하기 위해 사용하는 테이블을 기본 테이블이라고 부
른다.
* 뷰는 기본적으로 읽기전용으로 사용하지만 데이터 수정도 가능
하다.
* 데이터 수정시 그 결과는 기본 테이블에 반영이 된다.
* 반대로 기본 테이블에 데이터가 변경되어도 뷰에 반영이 된다.
* 사용법
  - CREATE VIEW 뷰이름(컬럼명1, 컬럼명2….) AS subquery;  
  (뷰 생성)
  - 컬럼명은 지정해도 되고 안하면 기본테이블의 컬럼명 사용
  - DROP VIEW 뷰이름;  
  (뷰 삭제)


## 데이터 조작
* 데이터 입력
  - INSERT INTO 뷰이름 VALUES (컬럼값1, 컬럼값2, ...);
* 데이터 수정
  - UPDATE 뷰이름 SET 컬럼='변경값' WHERE 조건;
* 데이터 삭제
  - DELETE FROM 뷰이름 WHERE 조건;

## 뷰 내용 수정
* OR REPLACE : 옵션은 뷰가 이미 존재한다면 뷰의 내용을 갱신하
기 위한 옵션
  - CREATE OR REPLACE VIEW 뷰이름(컬럼명1, 컬럼명2….) AS subquery;
* 보통 뷰를 만들때 CREATE OR REPLACE를 사용한다. 없으면 만들고 있으면 수정하기 때문에

### FORCE
* FORCE : 옵션은 기본 테이블의 존재 유무와 상관없이 뷰를 생성
할 때 사용한다.
* 기본값은 NOFORCE => 뷰 생성시 반드시 기본 테이블이 있어야
한다.
  - CREATE OR REPLACE FORCE VIEW 뷰이름(컬럼명1, 컬럼명2….) AS subquery;
  - 뷰는 쿼리 내용을 저장하기 때문에 후에 추가 될 수 있는 테이블의 서브쿼리 내용을 뷰에 미리 저장해놓는 개념이라고 생각하면 된다.

### 뷰의 데이터 조작 제한
* WITH CHECK OPTION : 해당 뷰를 통해서 볼 수 있는 범위 내에서만 UPDATE나 INSERT가 가능하다.
  - CREATE OR REPLACE VIEW 뷰이름(컬럼명1, 컬럼명2….) AS subquery WITH CHECK OPTION;
* WITH READ ONLY : 해당 뷰를 통해서 SELECT만 가능하고 UPDATE나 INSERT가 불가능 하게 해주는 옵션이다.
  - CREATE OR REPLACE VIEW 뷰이름(컬럼명1, 컬럼명2….) AS subquery WITH READ ONLY;
* 기본 테이블의 컬럼에 제한이 있을 때, 그 조건을 만족 하지 않을 경우 뷰를 통해 데이터를 조작할 수 없다.
* 뷰를 생성할 때 JOIN을 이용해 2개이상의 테이블의 정보를 보고 있다면, 뷰를 통해 데이터를 조작할 때 2개이상의 테이블이 수정되야 할 경우 데이터 조작을 할 수 없다.